(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{309:function(module,exports,__webpack_require__){__webpack_require__(310),__webpack_require__(414),module.exports=__webpack_require__(415)},415:function(module,exports,__webpack_require__){"use strict";(function(module){var _react=__webpack_require__(227),_addonKnobs=__webpack_require__(279),_ComponentPreview=_interopRequireDefault(__webpack_require__(582)),_theme=_interopRequireDefault(__webpack_require__(583));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react.addParameters)({options:{name:"OrganW React",theme:_theme.default}}),(0,_react.addDecorator)(_ComponentPreview.default),(0,_react.addDecorator)(_addonKnobs.withKnobs);const req=__webpack_require__(604);(0,_react.configure)(()=>req.keys().forEach(filename=>req(filename)),module)}).call(this,__webpack_require__(30)(module))},582:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(1));exports.default=storyFn=>_react.default.createElement("div",null,storyFn())},583:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=(0,__webpack_require__(584).create)({name:"organw",base:"light",brandTitle:"OrganW React",brandUrl:"https://github.com/organw/organw-react",brandImage:"logo.svg",colorPrimary:"#13AA52",colorSecondary:"#13AA52",appBg:"#F4F6F6",appContentBg:"#FFFFFF",appBorderColor:"#D7DBDB",appBorderRadius:4,fontBase:'"Akzidenz", Helvetica, Arial, sans-serif',fontCode:"monospace",textColor:"#303434",textInverseColor:"rgba(255,255,255,0.9)",barTextColor:"silver",barSelectedColor:"#13AA52",barBg:"#FFFFFF",inputBg:"#F4F6F6",inputBorder:"#D7DBDB",inputTextColor:"#303434",inputBorderRadius:4});exports.default=_default},604:function(module,exports,__webpack_require__){var map={"./wysiwyg-editor/src/WysiwygEditor.story.js":605};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=604},605:function(module,exports,__webpack_require__){"use strict";(function(module){var _react=function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(1)),_react2=__webpack_require__(227),_index=(__webpack_require__(279),function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(606)));function Default(){const[open,setOpen]=(0,_react.useState)(!1);return _react.default.createElement(_index.default,null)}(0,_react2.storiesOf)("WysiwygEditor",module).add("default",()=>_react.default.createElement(Default,null))}).call(this,__webpack_require__(30)(module))},606:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _WysiwygEditor.default}});var _WysiwygEditor=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(607))},607:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_propTypes=_interopRequireDefault(__webpack_require__(4)),_slateReact=__webpack_require__(713),_slate=__webpack_require__(3),_defaultValue=_interopRequireDefault(__webpack_require__(711)),_isHotkey=__webpack_require__(98);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const DEFAULT_NODE="paragraph",isBoldHotkey=(0,_isHotkey.isKeyHotkey)("mod+b"),isItalicHotkey=(0,_isHotkey.isKeyHotkey)("mod+i"),isUnderlinedHotkey=(0,_isHotkey.isKeyHotkey)("mod+u"),isCodeHotkey=(0,_isHotkey.isKeyHotkey)("mod+`");class WysiwygEditor extends _react.default.Component{constructor(...args){super(...args),_defineProperty(this,"state",{value:_slate.Value.fromJSON(_defaultValue.default)}),_defineProperty(this,"hasMark",type=>{const{value:value}=this.state;return value.activeMarks.some(mark=>mark.type===type)}),_defineProperty(this,"hasBlock",type=>{const{value:value}=this.state;return value.blocks.some(node=>node.type===type)}),_defineProperty(this,"ref",editor=>{this.editor=editor}),_defineProperty(this,"renderMarkButton",(type,icon)=>{const isActive=this.hasMark(type);return _react.default.createElement("button",{active:isActive,onMouseDown:event=>this.onClickMark(event,type)},_react.default.createElement("i",{className:"fa fa-"+icon,"aria-hidden":"true"}))}),_defineProperty(this,"renderBlockButton",(type,icon,text)=>{let isActive=this.hasBlock(type);if(["numbered-list","bulleted-list"].includes(type)){const{value:{document:document,blocks:blocks}}=this.state;if(blocks.size>0){const parent=document.getParent(blocks.first().key);isActive=this.hasBlock("list-item")&&parent&&parent.type===type}}return _react.default.createElement("button",{active:isActive,onMouseDown:event=>this.onClickBlock(event,type)},text)}),_defineProperty(this,"renderBlock",(props,editor,next)=>{const{attributes:attributes,children:children,node:node}=props;switch(node.type){case"block-quote":return _react.default.createElement("blockquote",attributes,children);case"bulleted-list":return _react.default.createElement("ul",attributes,children);case"heading-one":return _react.default.createElement("h1",attributes,children);case"heading-two":return _react.default.createElement("h2",attributes,children);case"heading-three":return _react.default.createElement("h3",attributes,children);case"heading-four":return _react.default.createElement("h4",attributes,children);case"heading-five":return _react.default.createElement("h5",attributes,children);case"heading-six":return _react.default.createElement("h6",attributes,children);case"list-item":return _react.default.createElement("li",attributes,children);case"numbered-list":return _react.default.createElement("ol",attributes,children);default:return next()}}),_defineProperty(this,"renderMark",(props,editor,next)=>{const{children:children,mark:mark,attributes:attributes}=props;switch(mark.type){case"bold":return _react.default.createElement("strong",attributes,children);case"code":return _react.default.createElement("code",attributes,children);case"italic":return _react.default.createElement("em",attributes,children);case"underlined":return _react.default.createElement("u",attributes,children);default:return next()}}),_defineProperty(this,"onChange",({value:value})=>{this.setState({value:value})}),_defineProperty(this,"onKeyDown",(event,editor,next)=>{let mark;if(isBoldHotkey(event))mark="bold";else if(isItalicHotkey(event))mark="italic";else if(isUnderlinedHotkey(event))mark="underlined";else{if(!isCodeHotkey(event))return next();mark="code"}event.preventDefault(),editor.toggleMark(mark)}),_defineProperty(this,"onClickMark",(event,type)=>{event.preventDefault(),this.editor.toggleMark(type)}),_defineProperty(this,"onClickBlock",(event,type)=>{event.preventDefault();const{editor:editor}=this,{value:value}=editor,{document:document}=value;if("bulleted-list"!==type&&"numbered-list"!==type){const isActive=this.hasBlock(type);this.hasBlock("list-item")?editor.setBlocks(isActive?DEFAULT_NODE:type).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):editor.setBlocks(isActive?DEFAULT_NODE:type)}else{const isList=this.hasBlock("list-item"),isType=value.blocks.some(block=>!!document.getClosest(block.key,parent=>parent.type===type));isList&&isType?editor.setBlocks(DEFAULT_NODE).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):isList?editor.unwrapBlock("bulleted-list"===type?"numbered-list":"bulleted-list").wrapBlock(type):editor.setBlocks("list-item").wrapBlock(type)}})}render(){return _react.default.createElement("div",{className:`${this.props.className} organw-editor`},_react.default.createElement("div",null,this.renderMarkButton("bold","bold"),this.renderMarkButton("italic","italic"),this.renderMarkButton("underlined","underline"),this.renderMarkButton("code","code"),this.renderBlockButton("heading-one",void 0,"H1"),this.renderBlockButton("heading-two",void 0,"H2"),this.renderBlockButton("heading-three",void 0,"H3"),this.renderBlockButton("heading-four",void 0,"H4"),this.renderBlockButton("heading-five",void 0,"H5"),this.renderBlockButton("heading-six",void 0,"H6"),this.renderBlockButton("block-quote","format_quote"),this.renderBlockButton("numbered-list","format_list_numbered"),this.renderBlockButton("bulleted-list","format_list_bulleted")),_react.default.createElement(_slateReact.Editor,{spellCheck:!0,autoFocus:!0,placeholder:"Kezdj el g√©pelni...",ref:this.ref,value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown,renderBlock:this.renderBlock,renderMark:this.renderMark}))}}WysiwygEditor.propTypes={value:_propTypes.default.object.isRequired,className:_propTypes.default.string,hasToolbar:_propTypes.default.bool};var _default=WysiwygEditor;exports.default=_default},711:function(module){module.exports=JSON.parse('{"object":"value","document":{"object":"document","nodes":[{"object":"block","type":"paragraph","nodes":[{"object":"text","text":""}]}]}}')}},[[309,1,2]]]);
//# sourceMappingURL=main.5d0d75fdc69d66d0813c.bundle.js.map